{"version":3,"sources":["webpack:///./src/app/monitoring/monitoring.component.css","webpack:///./src/app/monitoring/monitoring.component.html","webpack:///./src/app/monitoring/monitoring.component.ts","webpack:///./src/app/monitoring/monitoring.module.ts","webpack:///./src/app/monitoring/monitoring.routes.ts","webpack:///./src/app/monitoring/shared/directives/checkbox-droit.directive.ts","webpack:///./src/app/monitoring/shared/directives/possede-droit.directive.ts","webpack:///./src/app/monitoring/shared/services/monitoring.service.ts","webpack:///./src/app/monitoring/shared/store/monitoring.effects.ts"],"names":[],"mappings":";;;;;;;;;AAAA,mB;;;;;;;;;;;ACAA,okBAAokB,WAAW,gYAAgY,kBAAkB,kkBAAkkB,eAAe,+kCAA+kC,iBAAiB,2EAA2E,qLAAqL,YAAY,mTAAmT,mBAAmB,+LAA+L,8BAA8B,gvBAAgvB,qBAAqB,y0C;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAppI;AACd;AAEkO;AACvC;AAC1L;AAWrC;IAoBE,6BACU,KAAoB;QAApB,UAAK,GAAL,KAAK,CAAe;IAC1B,CAAC;IAEL,sCAAQ,GAAR;QAAA,iBAmCC;QAjCC,IAAI,CAAC,iBAAiB,GAAG,EAAC,OAAO,EAAG,CAAC,EAAE,OAAO,EAAG,MAAM,EAAC,CAAC;QACzD,IAAI,CAAC,eAAe,GAAG;YACrB,EAAC,OAAO,EAAG,CAAC,EAAE,OAAO,EAAG,MAAM,EAAC;YAC/B,EAAC,OAAO,EAAG,CAAC,EAAE,OAAO,EAAG,SAAS,EAAC;YAClC,EAAC,OAAO,EAAG,CAAC,EAAE,OAAO,EAAG,WAAW,EAAC;YACpC,EAAC,OAAO,EAAG,CAAC,EAAE,OAAO,EAAG,aAAa,EAAC;SACvC,CAAC;QAEF,+BAA+B;QAC/B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,gFAAe,EAAE,CAAC,CAAC;QAC3C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,sFAAmB,CAAC,CAAC,CAAC;QACjE,IAAI,CAAC,YAAY,CAAC,SAAS,CAAE,UAAC,GAAc;YAC1C,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACzB,CAAC,CAAC,CAAC;QAEF,qEAAqE;QACtE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,8FAA2B,CAAC,CAAC,CAAC,SAAS,CAAE,UAAC,GAAY;YAC3E,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC;QACzB,CAAC,CAAC;QAEF,4CAA4C;QAC5C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,gFAAa,CAAC,CAAC,CAAC;QAErD,uDAAuD;QACvD,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,4FAAyB,CAAC,CAAC,CAAC;QAE/E,4BAA4B;QAC5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,uFAAoB,CAAC,CAAC,CAAC;QAEnE,IAAI,CAAC,aAAa,CAAC,SAAS,CAAE,UAAC,IAAkB;YAC/C,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC3B,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,+CAA+C;IACxC,wCAAU,GAAjB,UAAkB,GAAG;QAArB,iBAeC;QAdC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,sFAAqB,CAAC,GAAG,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,2EAAU,EAAE,CAAC,CAAC;QACtC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAE,0DAAM,CAAC,iFAAc,CAAC,CAAC,CAAC;QAExD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAE,UAAC,GAAa;YACpC,KAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QACpB,CAAC,CAAC,CAAC;QAEH,qBAAqB;QACrB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,6EAAY,EAAE,CAAC,CAAC;QACxC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,mFAAgB,CAAC,CAAC,CAAC;QAE3D,0DAA0D;QAC1D,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,0EAAS,EAAE,CAAC,CAAC;IACvC,CAAC;IAED,0DAA0D;IACnD,0CAAY,GAAnB,UAAoB,QAAiB;QACnC,IAAI,YAAY,GAAG,KAAK,CAAC;QACzB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAChB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,UAAC,KAAa;gBAChC,EAAE,CAAC,CAAE,KAAK,CAAC,QAAQ,KAAK,QAAS,CAAC,CAAC,CAAC;oBAClC,YAAY,GAAG,KAAK,CAAC,SAAS,CAAC;gBACjC,CAAC;YACL,CAAC,CAAC,CAAC;QACH,CAAC;QAED,MAAM,CAAC,YAAY,CAAC;IACtB,CAAC;IAGD,wBAAwB;IACxB,2CAAa,GAAb,UAAc,OAAe;QAC3B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,8EAAa,CAAC,OAAO,CAAC,CAAC,CAAC;IAClD,CAAC;IAED,0CAAY,GAAZ,UAAa,IAAkB;QAC7B,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,gFAAe,CAAC,IAAI,CAAC,CAAC,CAAC;QAC/C,4CAA4C;QAC5C,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,uFAAsB,EAAE,CAAC,CAAC;IACpD,CAAC;IAED,iDAAiD;IACjD,yCAAW,GAAX,UAAY,KAAa;QACvB,EAAE,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,uFAAsB,CAAC,KAAK,CAAC,CAAC,CAAC;QACzD,CAAC;QACD,IAAI,CAAC,CAAC;YACJ,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,qFAAoB,CAAC,KAAK,CAAC,CAAC,CAAC;QACvD,CAAC;IACH,CAAC;IAED,wDAAwD;IACxD,6CAAe,GAAf,UAAiB,IAAI;QACnB,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;IAChC,CAAC;IAED,4CAA4C;IAC5C,2CAAa,GAAb,UAAe,CAAC,EAAE,CAAC;QACjB,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC;IAChB,CAAC;IAED,8EAA8E;IAC9E,2CAAa,GAAb;QAAA,iBAaC;QAZC,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YAEvB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,+EAAc,CAAC;gBACrC,OAAO,EAAE,IAAI,CAAC,iBAAiB,CAAC,OAAO;gBACvC,KAAK,EAAE,IAAI,CAAC,aAAa;aAC1B,CAAC,CAAC,CAAC;YAEJ,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,uFAAoB,CAAC,CAAC,CAAC,SAAS,CAAC,UAAC,IAAa;gBACpE,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YAC1B,CAAC,CAAC,CAAC;QAEL,CAAC;IACH,CAAC;IAEM,6CAAe,GAAtB;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,+EAAc,CAAC,IAAI,CAAC,aAAa,CAAC,CAAE,CAAC;QAC/D,CAAC;IACH,CAAC;IAjJU,mBAAmB;QAL/B,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;;;SAG3B,CAAC;yCAsBkB,iDAAK;OArBZ,mBAAmB,CAkJ/B;IAAD,0BAAC;CAAA;AAlJ+B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBS;AACM;AACc;AACF;AACZ;AACL;AACI;AACD;AAC0B;AACD;AACd;AAC4B;AACE;AAetF;IAAA;IAAgC,CAAC;IAApB,gBAAgB;QAZ5B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,sEAAU;gBACV,4DAAY,CAAC,QAAQ,CAAC,qEAAiB,CAAC;gBACxC,uDAAW,CAAC,UAAU,CAAC,YAAY,EAAE,mFAAiB,CAAC;gBACvD,2DAAa,CAAC,UAAU,CAAC,CAAC,kFAAiB,CAAC,CAAC;gBAC7C,0DAAW;aACZ;YACD,YAAY,EAAE,CAAC,yEAAmB,EAAE,iGAAqB,EAAE,mGAAsB,CAAC;YAClF,SAAS,EAAG,EAAG;SAChB,CAAC;OACW,gBAAgB,CAAI;IAAD,uBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;ACzBgC;AAGtD,IAAM,iBAAiB,GAAY;IACtC;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,yEAAmB;KACjC;CAEJ;;;;;;;;;;;;;;;;;;;;;;;;;ACXwE;AAMzE;IAiBE;IAAgB,CAAC;IAZjB,4CAAW,GAAX;QAEE,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YAEtB,IAAI,CAAC,IAAI,GAAG,sBAAsB,CAAC;YACnC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;QACvB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,IAAI,GAAG,wBAAwB,CAAC;YACrC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACrB,CAAC;IACH,CAAC;IAdyB;QAAzB,iEAAW,CAAC,WAAW,CAAC;;wDAAgB;IACb;QAA3B,iEAAW,CAAC,aAAa,CAAC;;yDAAiB;IACjB;QAA1B,2DAAK,CAAC,kBAAkB,CAAC;;gEAAwB;IAHvC,sBAAsB;QAHlC,+DAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;SAC/B,CAAC;;OACW,sBAAsB,CAmBlC;IAAD,6BAAC;CAAA;AAnBkC;;;;;;;;;;;;;;;;;;;;;;;;;ACNsC;AAMzE;IAiBE;IAAgB,CAAC;IAZjB,2CAAW,GAAX;QAEE,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;YAEtB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC;YACnB,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;QACvB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC;YACpB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACrB,CAAC;IACH,CAAC;IAdyB;QAAzB,iEAAW,CAAC,WAAW,CAAC;;uDAAgB;IACb;QAA3B,iEAAW,CAAC,aAAa,CAAC;;wDAAiB;IAClB;QAAzB,2DAAK,CAAC,iBAAiB,CAAC;;+DAAwB;IAHtC,qBAAqB;QAHjC,+DAAS,CAAC;YACT,QAAQ,EAAE,mBAAmB;SAC9B,CAAC;;OACW,qBAAqB,CAmBjC;IAAD,4BAAC;CAAA;AAnBiC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNS;AAEN;AACa;AAUlD;IAIE,2BAAmB,IAAiB;QAAjB,SAAI,GAAJ,IAAI,CAAa;IAEpC,CAAC;IAEM,8CAAkB,GAAzB;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAW,gCAAgC,CAAC,CAAC,IAAI,CACjE,0DAAG,CAAE,UAAC,IAAU;YAEd,MAAM,CAAC,IAAI,CAAC,GAAG,CAAE,WAAC,IAAI,QAAC,EAAC,EAAE,EAAG,CAAC,CAAC,YAAY,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAC,CAAC,EAAnC,CAAmC,CAAC,CAAC;QAC7D,CAAC,CAAC,CACH,CAAC;IACN,CAAC;IAGM,wCAAY,GAAnB,UAAoB,KAAc;QAChC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAU,kCAAkC,GAAG,KAAK,CAAC,CAAC,IAAI,CAC1E,0DAAG,CAAE,UAAC,IAAU;YACd,MAAM,CAAC,IAAI,CAAC,GAAG,CAAE,WAAC,IAAI,QAAC,EAAC,OAAO,EAAG,CAAC,CAAC,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAC,CAAC,EAArE,CAAqE,CAAC,CAAC;QAC/F,CAAC,CAAC,CACH,CAAC;IACN,CAAC;IAED,+CAA+C;IACxC,6CAAiB,GAAxB,UAA0B,KAAc;QACtC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAW,oCAAoC,GAAG,KAAK,CAAC,CAAC,IAAI,CAC/E,0DAAG,CAAE,UAAC,IAAU;YACd,MAAM,CAAC,IAAI,CAAC,GAAG,CAAE,WAAC,IAAI,QAAC,EAAC,EAAE,EAAG,CAAC,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,CAAC,OAAO,EAAC,CAAC,EAApC,CAAoC,CAAC,CAAC;QAC9D,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAEM,4CAAgB,GAAvB,UAAwB,SAAiB;QACvC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAM,gCAAgC,GAAG,SAAS,CAAC,CAAC;IAC7E,CAAC;IAEM,mCAAO,GAAd,UAAe,KAAa;QAC1B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAgB,0BAA0B,GAAG,KAAK,CAAC,CAAC,IAAI,CAC1E,0DAAG,CAAE,UAAC,IAAU;YACd,MAAM,CAAC,IAAI,CAAC,GAAG,CAAE,WAAC,IAAI,QAAC,EAAC,EAAE,EAAG,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,GAAG,EAAE,MAAM,EAAG,CAAC,CAAC,MAAM,EAAC,CAAC,EAA5C,CAA4C,CAAC,CAAC;QACtE,CAAC,CAAC,CACH,CAAC;QAAA,CAAC;IACL,CAAC;IAEM,gDAAoB,GAA3B,UAA4B,KAAc,EAAE,MAAe;QACzD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAU,kCAAkC,GAAG,KAAK,GAAE,GAAG,GAAG,MAAM,CAAC,CAAC,IAAI,CACxF,0DAAG,CAAE,UAAC,IAAU;YACd,MAAM,CAAC,IAAI,CAAC,GAAG,CAAE,WAAC,IAAI,QAAC,EAAC,OAAO,EAAG,CAAC,CAAC,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC,SAAS,EAAE,QAAQ,EAAE,CAAC,CAAC,QAAQ,EAAC,CAAC,EAArE,CAAqE,CAAC,CAAC;QAC/F,CAAC,CAAC,CACH,CAAC;IACN,CAAC;IAEM,wCAAY,GAAnB,UAAoB,KAAc,EAAE,MAAe,EAAE,OAAgB;QACnE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAM,8BAA8B,EAAE,EAAC,KAAK,EAAG,KAAK,EAAE,MAAM,EAAG,MAAM,EAAE,OAAO,EAAG,OAAO,EAAC,CAAC,CAAC;IAClH,CAAC;IAEM,0CAAc,GAArB,UAAsB,KAAc,EAAE,MAAe,EAAE,OAAgB;QACrE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAM,gCAAgC,EAAE,EAAC,KAAK,EAAG,KAAK,EAAE,MAAM,EAAG,MAAM,EAAE,OAAO,EAAG,OAAO,EAAC,CAAC,CAAC;IACpH,CAAC;IAEM,0CAAc,GAArB,UAAsB,OAAgB,EAAE,KAAc,EAAE,YAAqB;QAC3E,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAS,iCAAiC,GAAG,OAAO,GAAE,GAAG,GAAG,KAAK,GAAG,GAAG,GAAE,YAAY,CAAE,CAAC;IAC9G,CAAC;IAEM,oCAAQ,GAAf,UAAgB,IAAa;QAC3B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAS,0BAA0B,EAAE,EAAC,IAAI,EAAG,IAAI,EAAC,CAAC,CAAC;IAC3E,CAAC;IArEU,iBAAiB;QAH7B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAK0B,+DAAU;OAJzB,iBAAiB,CAsE7B;IAAD,wBAAC;CAAA;AAtE6B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACba;AACS;AAE+B;AAC3B;AAC8c;AACnc;AAGwB;AAK3F;IA8HI,2BAAqB,OAAgB,EACzB,KAAmB,EACnB,iBAAoC;QAFhD,iBAEoD;QAF/B,YAAO,GAAP,OAAO,CAAS;QACzB,UAAK,GAAL,KAAK,CAAc;QACnB,sBAAiB,GAAjB,iBAAiB,CAAmB;QA9HhD,6BAAwB,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CACxC,4DAAM,CAAC,oEAAgB,CAAC,EACxB,gEAAS,CAAE;YACP,MAAM,CAAC,KAAI,CAAC,iBAAiB,CAAC,kBAAkB,EAAE,CAAC;QACvD,CAAC,CAAC,EACF,0DAAG,CAAE,UAAC,GAAa;YACf,MAAM,CAAC,IAAI,0EAAsB,CAAC,GAAG,CAAC,CAAC;QAC3C,CAAC,CAAC,CACL;QAGD,gBAAW,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAC3B,4DAAM,CAAC,+DAAW,CAAC,EACnB,qEAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,iFAA2B,CAAC,CAAC,CAAC,EACpE,gEAAS,CAAE,UAAC,EAAgC;gBAA/B,cAAM,EAAE,WAAG;YAEpB,MAAM,CAAC,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QACvD,CAAC,CAAC,EACF,0DAAG,CAAE,UAAC,KAAc;YAChB,MAAM,CAAC,IAAI,qEAAiB,CAAC,KAAK,CAAC,CAAC;QACxC,CAAC,CAAC,CACL;QAGD,kBAAa,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAC7B,4DAAM,CAAC,iEAAa,CAAC,EACrB,qEAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,iFAA2B,CAAC,CAAC,CAAC,EACpE,gEAAS,CAAE,UAAC,EAAgC;gBAA/B,cAAM,EAAE,WAAG;YACpB,MAAM,CAAC,KAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAC5D,CAAC,CAAC,EACF,0DAAG,CAAE,UAAC,KAAe;YACjB,MAAM,CAAC,IAAI,uEAAmB,CAAC,KAAK,CAAC,CAAC;QAC1C,CAAC,CAAC,CACL;QAGD,kBAAa,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAC7B,4DAAM,CAAC,kEAAc,CAAC,EACtB,gEAAS,CAAE,UAAC,MAAsB;YAC9B,MAAM,CAAC,KAAI,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACtE,CAAC,CAAC,EACF,0DAAG,CAAE;YACD,MAAM,CAAC,IAAI,gEAAY,EAAE,CAAC;QAC9B,CAAC,CAAC,CACL;QAGD,aAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CACxB,4DAAM,CAAC,8DAAU,CAAC,EAClB,qEAAc,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,iFAA2B,CAAC,CAAC,CAAC,EACpE,gEAAS,CAAE,UAAC,EAAgC;gBAA/B,cAAM,EAAE,WAAG;YACpB,MAAM,CAAC,KAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAClD,CAAC,CAAC,EACF,0DAAG,CAAE,UAAC,KAAqB;YACvB,MAAM,CAAC,IAAI,oEAAgB,CAAC,KAAK,CAAC,CAAC;QACvC,CAAC,CAAC,CACL;QAGD,4BAAuB,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CACvC,4DAAM,CAAC,6EAAyB,CAAC,EACjC,qEAAc,CACV,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,0EAAoB,CAAC,CAAC,EAC7C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,iFAA2B,CAAC,CAAC,CAAC,EACzD,gEAAS,CAAE,UAAC,EAAmB;gBAAlB,cAAM,EAAE,YAAI,EAAE,WAAG;YAC1B,MAAM,CAAC,KAAI,CAAC,iBAAiB,CAAC,oBAAoB,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;QACxE,CAAC,CAAC,EACF,0DAAG,CAAE,UAAC,KAAe;YACjB,MAAM,CAAC,IAAI,iFAA6B,CAAC,KAAK,CAAC,CAAC;QACpD,CAAC,CAAC,CACL;QAGD,0BAAqB,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CACrC,4DAAM,CAAC,2EAAuB,CAAC,EAC/B,qEAAc,CACV,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,0EAAoB,CAAC,CAAC,EAC7C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,iFAA2B,CAAC,CAAC,CAAC,EACzD,gEAAS,CAAE,UAAC,EAAiE;gBAAhE,cAAM,EAAE,YAAI,EAAE,WAAG;YAC1B,MAAM,CAAC,KAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACxF,CAAC,CAAC,EACF,gEAAS,CAAE;YACP,MAAM,CAAC,CAAC,IAAI,0EAAsB,EAAE,EAAE,IAAI,8DAAU,EAAE,CAAC,CAAC;QAC5D,CAAC,CAAC,CACL;QAGD,4BAAuB,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CACvC,4DAAM,CAAC,6EAAyB,CAAC,EACjC,qEAAc,CACV,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,0EAAoB,CAAC,CAAC,EAC7C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,iFAA2B,CAAC,CAAC,CAAC,EACzD,gEAAS,CAAE,UAAC,EAAiE;gBAAhE,cAAM,EAAE,YAAI,EAAE,WAAG;YAC1B,MAAM,CAAC,KAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC1F,CAAC,CAAC,EACF,gEAAS,CAAE;YACP,MAAM,CAAC,CAAC,IAAI,0EAAsB,EAAE,EAAE,IAAI,8DAAU,EAAE,CAAC,CAAC;QAC5D,CAAC,CAAC,CACL;QAGD,kBAAa,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAC7B,4DAAM,CAAC,oEAAgB,CAAC,EACxB,qEAAc,CACV,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0DAAM,CAAC,iFAA2B,CAAC,CAAC,CAAC,EACzD,gEAAS,CAAE,UAAC,EAAuC;gBAAtC,cAAM,EAAC,WAAG;YACnB,MAAM,CAAC,KAAI,CAAC,iBAAiB,CAAC,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;QACvG,CAAC,CAAC,EACF,0DAAG,CAAE,UAAC,IAAY;YACd,MAAM,CAAC,IAAI,yEAAqB,CAAC,IAAI,CAAC,CAAC;QAC3C,CAAC,CAAC,CACL;QAGD,aAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CACxB,4DAAM,CAAC,mEAAe,CAAC,EACvB,gEAAS,CAAE,UAAC,MAAsB;YAC9B,MAAM,CAAC,KAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QAC3D,CAAC,CAAC,EACF,0DAAG,CAAE,UAAC,IAAa;YACf,MAAM,CAAC,IAAI,yEAAqB,CAAC,IAAI,CAAC,CAAC;QAC3C,CAAC,CAAC,CACL;IAIkD,CAAC;IA9HpD;QADC,4DAAM,EAAE;;uEASR;IAGD;QADC,4DAAM,EAAE;;0DAWR;IAGD;QADC,4DAAM,EAAE;;4DAUR;IAGD;QADC,4DAAM,EAAE;;4DASR;IAGD;QADC,4DAAM,EAAE;;uDAUR;IAGD;QADC,4DAAM,EAAE;;sEAYR;IAGD;QADC,4DAAM,EAAE;;oEAYR;IAGD;QADC,4DAAM,EAAE;;sEAYR;IAGD;QADC,4DAAM,EAAE;;4DAWR;IAGD;QADC,4DAAM,EAAE;;uDASR;IA5HQ,iBAAiB;QAD7B,gEAAU,EAAE;yCA+HqB,qDAAO;YAClB,iDAAK;YACO,8EAAiB;OAhIvC,iBAAiB,CAiI7B;IAAD,wBAAC;CAAA;AAjI6B","file":"app-monitoring-monitoring-module.js","sourcesContent":["module.exports = \"\"","module.exports = \"\\n<div class=\\\"container container-white p-3\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-6 col-xs-12\\\">\\n            <div class=\\\"row\\\">\\n                \\n                <div class=\\\"col-lg-12\\\">\\n                    <h3>Mes spécialités :</h3>\\n                    \\n                    <button (click)=\\\"afficheSpe(spe)\\\"\\n                        *ngFor=\\\"let spe of (specialites$ | async)\\\" \\n                        type=\\\"button\\\" \\n                        class=\\\"btn btn-outline-info btn-rounded waves-effect col-lg-3 col-sm-6 mr-0 ml-0\\\">{{ spe.nom }}\\n                    </button>\\n                    <hr>\\n                </div>\\n                \\n                <div class=\\\"col-lg-12\\\" *ngIf=\\\"speSelected\\\">\\n                    <h3>Mes droits :</h3>\\n                    <ul class=\\\"list-group\\\">\\n                        <li *ngFor=\\\"let droit of droits$ | async \\\" class=\\\"list-group-item \\\">\\n                            {{ droit.intitule }}\\n                            <i [appPossedeDroit]=\\\"droit.estAcquis\\\" class=\\\"material-icons float-right\\\">\\n                                close\\n                            </i>\\n                        </li>\\n                    </ul>\\n\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"col-md-6 col-xs-12\\\" *ngIf=\\\"speSelected\\\">\\n            \\n            <ul class=\\\"list-group\\\">\\n                <h3>Les matières :</h3>\\n                <li *ngFor=\\\"let matiere of matieres$ | async\\\" class=\\\"list-group-item \\\">\\n                    {{ matiere.nom }}\\n                    <i class=\\\"material-icons float-right pointer\\\" (click)=\\\"deleteMatiere(matiere)\\\" *ngIf=\\\"possedeDroit('Supprimer')\\\">\\n                        delete\\n                    </i>\\n                </li>\\n            </ul>\\n        </div>\\n    </div>\\n</div>\\n\\n\\n<div class=\\\"container container-white p-3\\\">\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-12\\\">\\n        <h3>Rejoindre un groupe ?</h3>\\n        <div class=\\\"form-check form-check-inline\\\">\\n            <label class =\\\"form-check-label\\\">Lien:</label>\\n            <input type=\\\"text\\\" class=\\\"form-control form-check-input\\\" [(ngModel)]=\\\"lienRejoindre\\\">\\n            <i class=\\\"material-icons pointer \\\" (click)=\\\"rejoindreGroupe()\\\">\\n                send\\n            </i>\\n        </div>\\n\\n    </div>\\n</div>\\n</div>\\n\\n\\n<div class=\\\"container container-white p-3 mb-4\\\" *ngIf=\\\"possedeDroit('Administrer')\\\" >\\n    <div class=\\\"row\\\">\\n        <h3 class=\\\"ml-5 mb-2\\\">Panel Admin</h3>\\n        \\n    </div>\\n\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-6\\\">\\n                <h4 class=\\\"ml-5\\\">Tout les {{speSelected.nom}}</h4>\\n\\n                <ul class=\\\"list-group\\\" style=\\\"max-height: 40vh; overflow-y : scroll\\\">\\n                    <li *ngFor=\\\"let user of users$ | async \\\" class=\\\"list-group-item pointer\\\" (click)=\\\"setUserActif(user)\\\">\\n                        {{ user.nom }}\\n                        <i class=\\\"material-icons float-right\\\">\\n                            edit\\n                        </i>\\n                    </li>\\n                </ul>\\n               \\n        </div>\\n    \\n\\n        <div class=\\\"col-6\\\" *ngIf=\\\"userSelected\\\">\\n            <h4>Droits de : {{userSelected?.nom}}</h4>\\n            <ul class=\\\"list-group\\\">\\n                <li *ngFor=\\\"let userSelectedDroit of usersSelectedDroits$ | async \\\" class=\\\"pointer list-group-item \\\">\\n                    {{ userSelectedDroit.intitule }}\\n                    <i [appCheckboxDroit]=\\\"userSelectedDroit.estAcquis\\\" class=\\\" material-icons float-right\\\" (click)=\\\"toggleDroit(userSelectedDroit)\\\">\\n                        close\\n                    </i>\\n               </li>\\n            </ul>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"row\\\" *ngIf=\\\"!pristineSpe\\\">\\n        <div class=\\\"col-lg-6 col-md-12\\\">\\n            <hr>\\n            <h2> Lien de partage : </h2>\\n\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-lg-6 col-md-12\\\">\\n                    <ul class=\\\"list-group\\\">\\n                        <li *ngFor=\\\"let droitLink of selectDroitLink \\\" class=\\\"pointer list-group-item \\\" (click)=\\\"chooseLevelLink(droitLink)\\\">\\n                            {{ droitLink.libelle }}\\n                            <i [appCheckboxDroit]=\\\"plusPetitEgal(droitLink.idDroit, droitLinkSelected.idDroit)\\\" class=\\\" material-icons float-right\\\" >\\n                                close\\n                            </i>\\n                        </li>\\n                    </ul>\\n                </div>\\n\\n                <div class=\\\"col-lg-6 col-md-12\\\">\\n                    <div class=\\\"col-12\\\">\\n                        <label>Temps de validité :</label>\\n                        <div class=\\\"form-check form-check-inline\\\">\\n                            <input type=\\\"number\\\" class=\\\"form-control col-9\\\" [(ngModel)]=\\\"tempsValidite\\\"><label class=\\\"form-check-label\\\"> min.</label>\\n                        </div>\\n                    </div>\\n\\n\\n                    <div class=\\\"col-12\\\">\\n                        <label>Lien : </label>\\n                        <div class=\\\"form-check form-check-inline\\\">\\n                            <input type=\\\"text\\\" class=\\\"col-10 form-control\\\" [(ngModel)]=\\\"lienPartage\\\">\\n                            <i class=\\\"material-icons pointer \\\" (click)=\\\"getSharedLink(matiere)\\\">\\n                                save_alt\\n                            </i>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { State } from '../shared/store';\nimport { FetchSpecialite, SetSpecialiteSelected, FetchDroit, FetchMatiere, DeleteMatiere, FetchUser, SetUserSelected, FetchDroitUserSelected, UnsetDroitUserSelected, SetDroitUserSelected, FetchShareLink, JoinSpecialite } from './shared/store/monitoring.actions';\nimport { specialitesSelector, droitsSelector, matieresSelector, usersSelector, droitUserSelectedSelector, userSelectedSelector, getShareLinkSelector, specialitesSelectedSelector } from './shared/store/monitoring.selectors';\nimport { select } from '@ngrx/store';\nimport { Donnee } from './shared/models/donnee.model';\nimport { Observable, of } from 'rxjs';\nimport { Droit } from './shared/models/droit.model';\nimport { UserMonitor } from './shared/models/userMonitor.model';\n\n@Component({\n  selector: 'app-monitoring',\n  templateUrl: './monitoring.component.html',\n  styleUrls: ['./monitoring.component.css']\n})\nexport class MonitoringComponent implements OnInit {\n  public specialites : Donnee[];\n  public specialites$ : Observable<Donnee[]>;\n  public droits$ : Observable<Droit[]>;\n  public droits : Droit[];\n  public peutSuppr: Droit;\n  public matieres$ : Observable<Donnee[]>;\n  public users$ : Observable<UserMonitor[]>;\n  public usersSelectedDroits$ : Observable<Droit[]>;\n  public userSelected$ : Observable<UserMonitor>;\n  public userSelected : UserMonitor;\n\n  public selectDroitLink: {idDroit:number, libelle : string}[];\n  public droitLinkSelected : {idDroit:number, libelle : string};\n  public tempsValidite: number;\n  public lienPartage : string;\n\n  public speSelected: Donnee;\n  public lienRejoindre : string;\n\n  constructor(\n    private store : Store<State>\n  ) { }\n\n  ngOnInit() {\n  \n    this.droitLinkSelected = {idDroit : 1, libelle : 'Lire'};\n    this.selectDroitLink = [\n      {idDroit : 1, libelle : \"Lire\"},\n      {idDroit : 2, libelle : \"Ajouter\"},\n      {idDroit : 3, libelle : \"Supprimer\"},\n      {idDroit : 4, libelle : \"Administrer\"}\n    ];\n\n    // Récupération des spécialités\n    this.store.dispatch(new FetchSpecialite());\n    this.specialites$ = this.store.pipe(select(specialitesSelector));\n    this.specialites$.subscribe( (val : Donnee[]) => {\n      this.specialites = val;\n    });\n\n     // Permet de caccher les panneau t'en qu'on a pas sélectionné une spe\n    this.store.pipe(select(specialitesSelectedSelector)).subscribe( (spe : Donnee) => {\n      this.speSelected = spe;\n    })\n   \n    // Initialisation pour éviter les undifineds\n    this.users$ = this.store.pipe(select(usersSelector));\n\n    // Récupération des droits de l'utilisateur selectionné\n    this.usersSelectedDroits$ = this.store.pipe(select(droitUserSelectedSelector));\n\n    // Recupère le user selected\n    this.userSelected$ = this.store.pipe(select(userSelectedSelector));\n\n    this.userSelected$.subscribe( (user : UserMonitor) => {\n      this.userSelected = user;\n    });\n  \n  }\n\n  // Fetch toutes les données de cette spécialité\n  public afficheSpe(spe) {\n    this.store.dispatch(new SetSpecialiteSelected(spe));\n    this.store.dispatch(new FetchDroit());\n    this.droits$ = this.store.pipe (select(droitsSelector));\n    \n    this.droits$.subscribe( (val : Droit[]) => {\n      this.droits = val;\n    });\n\n    // Récup des matières\n    this.store.dispatch(new FetchMatiere());\n    this.matieres$ = this.store.pipe(select(matieresSelector));\n\n    // Recupétation des utilisateurs qui utlisent aussi la spé\n    this.store.dispatch(new FetchUser());\n  }\n\n  // Renvoie true si le droit associé est acqui, false sinon\n  public possedeDroit(nomDroit : string) : boolean {\n    let possedeDroit = false;\n    if (this.droits) {\n      this.droits.forEach((droit : Droit) => {\n        if ( droit.intitule === nomDroit ) {\n          possedeDroit = droit.estAcquis;\n        }\n    });\n    }\n   \n    return possedeDroit;\n  }\n  \n\n  // Supprimer une matiere\n  deleteMatiere(matiere: Donnee) : void {\n    this.store.dispatch(new DeleteMatiere(matiere));\n  }\n\n  setUserActif(user : UserMonitor): void {\n    this.store.dispatch(new SetUserSelected(user));\n    // Récupération de l'utilisateur selectionne\n    this.store.dispatch(new FetchDroitUserSelected());\n  }\n\n  // toggle le droit de l'utilisateur selectionnee \n  toggleDroit(droit : Droit) : void{\n    if (droit.estAcquis) {\n      this.store.dispatch(new UnsetDroitUserSelected(droit));\n    }\n    else {\n      this.store.dispatch(new SetDroitUserSelected(droit));\n    }\n  }\n\n  // Permet de setter le bon droit pour le lien de partage\n  chooseLevelLink (link) {\n    this.droitLinkSelected = link;\n  }\n\n  //Comparaison ne fonctionne pas dans le nfIf\n  plusPetitEgal (a, b) {\n    return a <= b;\n  }\n\n  // Lance la requete pour obtenir le lien de paratge correspondant a la demande\n  getSharedLink() {\n    if (this.tempsValidite) {\n     \n      this.store.dispatch(new FetchShareLink({\n        idDroit: this.droitLinkSelected.idDroit,\n        temps: this.tempsValidite\n      }));\n\n      this.store.pipe(select(getShareLinkSelector)).subscribe((lien : string) => {\n        this.lienPartage = lien;\n      });\n      \n    }\n  }\n\n  public rejoindreGroupe () {\n    if (this.lienRejoindre) {\n      this.store.dispatch(new JoinSpecialite(this.lienRejoindre) );\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MonitoringComponent } from './monitoring.component';\nimport { CoreModule } from '../shared/modules/core.module';\nimport { RouterModule } from '@angular/router';\nimport { StoreModule } from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\nimport { FormsModule } from '@angular/forms';\nimport { MonitoringReducer } from './shared/store/monitoring.reducers';\nimport { MonitoringEffects } from './shared/store/monitoring.effects';\nimport { MONITORING_ROUTES } from './monitoring.routes';\nimport { PossedeDroitDirective } from './shared/directives/possede-droit.directive';\nimport { CheckboxDroitDirective } from './shared/directives/checkbox-droit.directive';\nimport { SpeInterceptor } from './shared/interceptors/spe-interceptor';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    CoreModule,\n    RouterModule.forChild(MONITORING_ROUTES), \n    StoreModule.forFeature('monitoring', MonitoringReducer),\n    EffectsModule.forFeature([MonitoringEffects]),\n    FormsModule\n  ],\n  declarations: [MonitoringComponent, PossedeDroitDirective, CheckboxDroitDirective],\n  providers : [ ]\n})\nexport class MonitoringModule { }\n","import { Component } from '@angular/core';\nimport { Routes } from '@angular/router';\nimport { MonitoringComponent } from './monitoring.component';\n\n\nexport const MONITORING_ROUTES : Routes = [\n    { \n        path: '', \n        component: MonitoringComponent\n    }\n\n]","import { Directive, HostBinding, Input, OnChanges } from '@angular/core';\n\n\n@Directive({\n  selector: '[appCheckboxDroit]'\n})\nexport class CheckboxDroitDirective implements OnChanges {\n  @HostBinding('innerHTML') html : string ;\n  @HostBinding('style.color') color : string ;\n  @Input('appCheckboxDroit') possedeDroit : boolean;\n\n  ngOnChanges() {\n    \n    if (this.possedeDroit) {\n\n      this.html = \"radio_button_checked\";\n      this.color = \"green\";\n    } else {\n      this.html = \"radio_button_unchecked\";\n      this.color = \"red\";\n    }\n  }\n\n  constructor() { }\n\n}\n","import { Directive, HostBinding, Input, OnChanges } from '@angular/core';\n\n\n@Directive({\n  selector: '[appPossedeDroit]'\n})\nexport class PossedeDroitDirective implements OnChanges {\n  @HostBinding('innerHTML') html : string ;\n  @HostBinding('style.color') color : string ;\n  @Input('appPossedeDroit') possedeDroit : boolean;\n\n  ngOnChanges() {\n    \n    if (this.possedeDroit) {\n\n      this.html = \"done\";\n      this.color = \"green\";\n    } else {\n      this.html = \"close\";\n      this.color = \"red\";\n    }\n  }\n\n  constructor() { }\n\n}\n","import { Injectable } from '@angular/core';\nimport { fromPromise } from 'rxjs/observable/fromPromise';\nimport { map } from 'rxjs/operators';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { Donnee } from '../models/donnee.model';\nimport { Droit } from '../models/droit.model';\nimport { User } from '../../../shared/models/user.model';\nimport { UserMonitor } from '../models/userMonitor.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MonitoringService {\n    \n    \n   \n  constructor(public http : HttpClient) {\n\n  }\n\n  public getSpecialitesUser(): Observable<Donnee[]> {\n    return this.http.get<Donnee[]>(\"/api/monitoring/getMatiereUser\").pipe(\n        map ((sPos : any) => {\n\n          return sPos.map (r => ({id : r.idSpecialite, nom: r.nom}));\n        })\n      );\n  }\n\n\n  public getDroitUser(speId : number): Observable<Droit[]> {\n    return this.http.get<Droit[]>(\"/api/monitoring/getDroitUserSpe/\" + speId).pipe(\n        map ((sPos : any) => {\n          return sPos.map (r => ({idDroit : r.idDroit, estAcquis: r.estAcquis, intitule: r.intitule}));\n        })\n      );\n  }\n\n  // Renvoie toute les matières d'une spécialitée\n  public getMatiereFromSpe (idSpe : number): Observable<Donnee[]> {\n    return this.http.get<Donnee[]>(\"/api/monitoring/getMatiereFromSpe/\" + idSpe).pipe(\n      map ((sPos : any) => {\n        return sPos.map (r => ({id : r.idMatiere, nom: r.Libelle}));\n      })\n    );\n  }\n\n  public supprimerMatiere(idMatiere: number): Observable<any> {\n    return this.http.delete<any>(\"/api/monitoring/deleteMatiere/\" + idMatiere);\n  }\n\n  public getUser(idSpe: number): Observable<UserMonitor[]> {\n    return this.http.get<UserMonitor[]>(\"/api/monitoring/getUser/\" + idSpe).pipe(\n      map ((sPos : any) => {\n        return sPos.map (r => ({id : r.id, nom: r.nom, prenom : r.prenom}));\n      })\n    );;\n  }\n\n  public getDroitUserSelected(speId : number, iduser : number): Observable<Droit[]> {\n    return this.http.get<Droit[]>(\"/api/monitoring/getDroitUserSpe/\" + speId +\"/\" + iduser).pipe(\n        map ((sPos : any) => {\n          return sPos.map (r => ({idDroit : r.idDroit, estAcquis: r.estAcquis, intitule: r.intitule}));\n        })\n      );\n  }\n\n  public setDroitUser(idSpe : number, idUser : number, idDroit : number): Observable<any> {\n    return this.http.post<any>(\"/api/monitoring/setDroitUser\", {idSpe : idSpe, idUser : idUser, idDroit : idDroit});\n  }\n\n  public unsetDroitUser(idSpe : number, idUser : number, idDroit : number): Observable<any> {\n    return this.http.post<any>(\"/api/monitoring/unsetDroitUser\", {idSpe : idSpe, idUser : idUser, idDroit : idDroit});\n  }\n\n  public getLienPartage(idDroit : number, temps : number, idSpecialite : number): Observable<string> {\n    return this.http.get<string>(\"/api/monitoring/getLienPartage/\" + idDroit+ \"/\" + temps + \"/\"+ idSpecialite );\n  }\n\n  public joinTeam(lien : string ): Observable<string> {\n    return this.http.post<string>(\"/api/monitoring/joinTeam\", {lien : lien});\n  }\n}","import { Injectable } from \"@angular/core\";\nimport { Action, Store, select} from  \"@ngrx/store\";\nimport { State } from \"../../../shared/store\";\nimport { switchMap, tap, debounceTime, map, withLatestFrom } from \"rxjs/operators\";\nimport { ofType, Effect, Actions } from \"@ngrx/effects\";\nimport { FETCH_SPECIALITE, FetchSpecialiteSuccess, FetchDroitSuccess, FETCH_DROIT, FetchMatiereSuccess, DELETE_MATIERE, DeleteMatiere, FetchMatiere, FETCH_MATIERE, FETCH_USER, FetchUser, FetchUserSuccess, FETCH_DROIT_USER_SELECTED, FetchDroitUserSelected, FetchDroitUserSelectedSuccess, SET_DROIT_USER_SELECTED, UNSET_DROIT_USER_SELECTED, SetDroitUserSelected, FetchDroit, FETCH_SHARE_LINK, FetchShareLink, FETCH_SHARE_LINK_SUCCESS, FetchShareLinkSuccess, JOIN_SPECIALITE, JoinSpecialite } from \"./monitoring.actions\";\nimport { MonitoringService } from '../services/monitoring.service';\nimport { Donnee } from \"../models/donnee.model\";\nimport { Droit } from \"../models/droit.model\";\nimport { specialitesSelectedSelector, userSelectedSelector } from \"./monitoring.selectors\";\nimport { UserMonitor } from \"../models/userMonitor.model\";\nimport { User } from \"../../../shared/models/user.model\";\n\n@Injectable()\nexport class MonitoringEffects {\n    @Effect()\n    chercheLesPossibilitees$ = this.action$.pipe(\n        ofType(FETCH_SPECIALITE),\n        switchMap (() => {\n            return this.monitoringService.getSpecialitesUser();\n        }),\n        map( (spe: Donnee[]) => {\n            return new FetchSpecialiteSuccess(spe);\n        }) \n    )\n\n    @Effect()\n    fetchDroit$ = this.action$.pipe(\n        ofType(FETCH_DROIT),\n        withLatestFrom(this.store.pipe(select(specialitesSelectedSelector))),\n        switchMap( ([action, spe] : [Action, Donnee]) => {\n            \n            return this.monitoringService.getDroitUser(spe.id);\n        }),\n        map( (droit: Droit[]) => {\n            return new FetchDroitSuccess(droit);\n        })\n    )\n\n    @Effect()\n    fetchMatiere$ = this.action$.pipe(\n        ofType(FETCH_MATIERE),\n        withLatestFrom(this.store.pipe(select(specialitesSelectedSelector))),\n        switchMap( ([action, spe] : [Action, Donnee]) => {\n            return this.monitoringService.getMatiereFromSpe(spe.id);\n        }),\n        map( (droit: Donnee[]) => {\n            return new FetchMatiereSuccess(droit);\n        })\n    )\n\n    @Effect()\n    supprMatiere$ = this.action$.pipe(\n        ofType(DELETE_MATIERE),\n        switchMap( (action : DeleteMatiere) => {\n            return this.monitoringService.supprimerMatiere(action.payload.id);\n        }),\n        map( () => {\n            return new FetchMatiere();\n        })\n    )\n\n    @Effect()\n    getUser$ = this.action$.pipe(\n        ofType(FETCH_USER),\n        withLatestFrom(this.store.pipe(select(specialitesSelectedSelector))),\n        switchMap( ([action, spe] : [Action, Donnee]) => {\n            return this.monitoringService.getUser(spe.id);\n        }),\n        map( (users : UserMonitor[]) => {\n            return new FetchUserSuccess(users);\n        })\n    )\n\n    @Effect()\n    fetchDroituserselected$ = this.action$.pipe(\n        ofType(FETCH_DROIT_USER_SELECTED),\n        withLatestFrom(\n            this.store.pipe(select(userSelectedSelector)),\n            this.store.pipe(select(specialitesSelectedSelector))),\n        switchMap( ([action, user, spe]) => {\n            return this.monitoringService.getDroitUserSelected(spe.id, user.id);\n        }),\n        map( (droit : Droit[]) => {\n            return new FetchDroitUserSelectedSuccess(droit);\n        })\n    )\n\n    @Effect()\n    setDroitUserSelected$ = this.action$.pipe(\n        ofType(SET_DROIT_USER_SELECTED),\n        withLatestFrom(\n            this.store.pipe(select(userSelectedSelector)),\n            this.store.pipe(select(specialitesSelectedSelector))),\n        switchMap( ([action, user, spe] : [SetDroitUserSelected, UserMonitor, Donnee]) => {\n            return this.monitoringService.setDroitUser(spe.id, user.id, action.payload.idDroit);\n        }),\n        switchMap( () => {\n            return [new FetchDroitUserSelected(), new FetchDroit()];\n        })\n    )\n\n    @Effect()\n    unserDroitUserSelected$ = this.action$.pipe(\n        ofType(UNSET_DROIT_USER_SELECTED),\n        withLatestFrom(\n            this.store.pipe(select(userSelectedSelector)),\n            this.store.pipe(select(specialitesSelectedSelector))),\n        switchMap( ([action, user, spe] : [SetDroitUserSelected, UserMonitor, Donnee]) => {\n            return this.monitoringService.unsetDroitUser(spe.id, user.id, action.payload.idDroit);\n        }),\n        switchMap( () => {\n            return [new FetchDroitUserSelected(), new FetchDroit()];\n        })\n    )\n\n    @Effect()\n    getShareLink$ = this.action$.pipe(\n        ofType(FETCH_SHARE_LINK),\n        withLatestFrom(\n            this.store.pipe(select(specialitesSelectedSelector))),\n        switchMap( ([action,spe] : [FetchShareLink, Donnee]) => {\n            return this.monitoringService.getLienPartage(action.payload.idDroit, action.payload.temps, spe.id);\n        }),\n        map( (lien :string) => {\n            return new FetchShareLinkSuccess(lien);\n        })\n    )\n\n    @Effect()\n    joinSpe$ = this.action$.pipe(\n        ofType(JOIN_SPECIALITE),\n        switchMap( (action: JoinSpecialite) => {\n            return this.monitoringService.joinTeam(action.payload);\n        }),\n        map( (lien : string) => {\n            return new FetchShareLinkSuccess(lien);\n        })\n    )\n\n    constructor (private action$: Actions, \n        private store: Store<State>,\n        private monitoringService: MonitoringService) {}\n}"],"sourceRoot":""}